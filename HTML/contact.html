<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>VEDA VFX ‚Äî Contact</title>
    <link rel="stylesheet" href="../CSS/styles.css" />
    <script src="https://unpkg.com/gsap@3/dist/gsap.min.js"></script>
    <script src="https://unpkg.com/gsap@3/dist/ScrollTrigger.min.js"></script>

    <style>
      /* ---------- Contact Page Layout ---------- */
      .contact-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 24px;
      }

      @media (max-width: 1024px) {
        .contact-grid {
          grid-template-columns: 1fr 1fr;
          gap: 16px;
        }
      }

      @media (max-width: 768px) {
        .contact-grid {
          grid-template-columns: 1fr;
          gap: 30px;
          text-align: center;
        }

        .glass {
          padding: 20px;
          margin: 0 auto;
          max-width: 90%;
        }

        .form-field,
        .form-submit {
          text-align: center;
        }
      }

      /* ---------- Form Styling ---------- */
      .form-field {
        width: 100%;
        padding: 12px;
        border-radius: 6px;
        border: 1px solid rgba(255, 255, 255, 0.1);
        background: rgba(255, 255, 255, 0.05);
        color: #fff;
        font-size: 15px;
      }

      .form-field:focus {
        outline: none;
        border-color: var(--pink);
        background: rgba(255, 255, 255, 0.1);
      }

      .form-submit {
        padding: 12px 20px;
        border: none;
        border-radius: 6px;
        background: var(--pink);
        color: #fff;
        font-weight: 600;
        font-size: 15px;
        cursor: pointer;
        transition: background 0.3s ease;
      }

      .form-submit:hover {
        background: #e4426a;
      }

      /* ---------- Responsive Navbar ---------- */
      .menu-toggle {
        display: none;
        font-size: 26px;
        background: none;
        border: none;
        color: #fff;
        cursor: pointer;
      }

      @media (max-width: 768px) {
        .nav-links {
          display: none;
          flex-direction: column;
          background: #111;
          position: absolute;
          top: 70px;
          right: 20px;
          padding: 15px;
          border-radius: 8px;
          width: 200px;
          text-align: right;
        }

        .nav-links.show {
          display: flex;
        }

        .menu-toggle {
          display: block;
        }

        .nav-links a {
          padding: 10px 0;
          border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .nav-links a:last-child {
          border-bottom: none;
        }
      }

      /* ---------- Loading Overlay ---------- */
      #loadingOverlay {
        display: none; /* hidden by default ‚úÖ */
        position: fixed;
        inset: 0;
        background: rgba(0, 0, 0, 0.6);
        z-index: 9999;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 22px;
        font-weight: bold;
      }

      /* ---------- Toast Notification ---------- */
      #toast {
        position: fixed;
        top: 20px; /* üëà bottom ke jagah top use karo */
        right: 20px; /* right corner */
        background: #4caf50;
        color: white;
        padding: 12px 20px;
        border-radius: 8px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        opacity: 0;
        transition: opacity 0.5s ease-in-out;
        z-index: 10000;
      }
    </style>
  </head>
  <body>
    <!-- Navbar -->
    <nav class="navbar">
      <div class="nav-inner container">
        <div class="brand">
          <div class="logo-mark">
            <img
              src="../assets/VEDA1_png.png"
              alt="VEDA VFX Logo"
              class="brand-logo"
            />
          </div>
        </div>

        <div class="nav-links" id="navLinks">
          <a href="index.html">Home</a>
          <a href="projects.html">Project</a>
          <a href="services.html">Services</a>
          <a href="about.html">About</a>
          <a href="contact.html" class="active">Contact</a>
        </div>

        <button class="menu-toggle" id="menuToggle" aria-label="Toggle Menu">
          ‚ò∞
        </button>
      </div>
    </nav>

    <!-- Main -->
    <main style="padding-top: 90px">
      <section class="section container">
        <div class="section-head" style="text-align: center">
          <h2>CONTACT</h2>
          <p class="lead-muted">
            Share a brief ‚Äî we‚Äôll respond within one business day
          </p>
        </div>

        <!-- Contact Grid -->
        <div class="contact-grid">
          <!-- Office Info -->
          <div class="glass">
            <h3>LOCATION</h3>
            <p style="color: var(--muted)">Lucknow, Uttar Pradesh</p>
            <p style="margin-top: 10px">
              üìû +91 8318000616<br />‚úâÔ∏è vedavfxstudio@gmail.com
            </p>
            <div style="margin-top: 14px; color: var(--muted)">
              Socials and maps can be added here
            </div>
          </div>

          <!-- Contact Form -->
          <div class="glass">
            <form id="contactForm">
              <input
                class="form-field"
                type="text"
                name="name"
                placeholder="Your name"
                required
              /><br /><br />
              <input
                class="form-field"
                type="email"
                name="email"
                placeholder="Your email"
                required
              /><br /><br />
              <input
                class="form-field"
                type="tel"
                name="phone"
                placeholder="Your phone number"
                pattern="[0-9]{10}"
                maxlength="10"
                minlength="10"
                required
                oninput="this.value=this.value.replace(/[^0-9]/g,'');"
              /><br /><br />
              <textarea
                class="form-field"
                name="message"
                placeholder="Short brief"
                rows="6"
                required
              ></textarea
              ><br /><br />
              <button class="form-submit" type="submit">Send Inquiry</button>
            </form>
          </div>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="site-footer">
      ¬© <span id="year"></span> VEDA VFX Studio
    </footer>

    <!-- Loading Overlay -->
    <div id="loadingOverlay">Please Wait...</div>

    <!-- Toast -->
    <div id="toast"></div>

    <script>
      window.gsap = gsap;
      window.ScrollTrigger = ScrollTrigger;
      gsap.registerPlugin(ScrollTrigger);

      document.getElementById("year").innerText = new Date().getFullYear();

      const form = document.getElementById("contactForm");
      const overlay = document.getElementById("loadingOverlay");
      const toast = document.getElementById("toast");

      function showLoading() {
        overlay.style.display = "flex"; // show overlay
      }
      function hideLoading() {
        overlay.style.display = "none"; // hide overlay
      }
      function showToast(message, type = "success") {
        toast.innerText = message;
        toast.style.background = type === "success" ? "#4caf50" : "#f44336";
        toast.style.opacity = "1";
        setTimeout(() => {
          toast.style.opacity = "0";
        }, 4000);
      }

      if (form) {
        form.addEventListener("submit", async function (e) {
          e.preventDefault();

          const data = {
            name: this.name.value,
            email: this.email.value,
            phone: this.phone.value,
            message: this.message.value,
          };

          try {
            showLoading();
            const res = await fetch("http://127.0.0.1:5000/api/contact", {
              method: "POST",
              headers: { "Content-Type": "application/json" },
              body: JSON.stringify(data),
            });

            const result = await res.json();
            hideLoading();

            if (result.status === "success") {
              form.reset();
              showToast(result.message, "success");
            } else {
              showToast("Something went wrong. Please try again.", "error");
            }
          } catch (err) {
            hideLoading();
            showToast("Server error: " + err.message, "error");
          }
        });
      }
    </script>
    <script src="../JS/main.js"></script>
  </body>
</html>
